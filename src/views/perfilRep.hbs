<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil República</title>
    <link rel="stylesheet" href="perfil.css">
    <link rel="stylesheet" href="galeria.css">
    <link rel="icon" href="/reuni.png">
</head>

<body>
    <header>
        <a href="javascript:void(0);" onclick="history.back();"><img src="/Voltar.png" alt="" srcset=""></a>
        <a href="#" class="title">Re<span>Uni</span></a>
    </header>
    {{!-- <div class="grid-galley">
        <div class="grid-item"
                
                <a href="/up/{{nome_imagem}}">
                    <img src="/up/{{nome_imagem}}">
                </a>
    
               
            </div>  --}}
    <div class="grid-galley">
        {{#each imagemRep}}
        <div class="grid-item"
            <a href="/up/{{nome_imagem}}">
                <img src="/up/{{nome_imagem}}">
            </a>
        </div>
        {{/each}}
   </div>
<script>
    
document.addEventListener('DOMContentLoaded', () => {
    const modal = document.getElementById('modal');
    const modalImg = document.getElementById('modal-img');
    const closeModal = document.querySelector('.close');

    // Seleciona todas as imagens dentro das divs .grid-item
    const images = document.querySelectorAll('.grid-item img');

    images.forEach(img => {
        img.addEventListener('click', (e) => {
            modal.style.display = 'block';
            modalImg.src = e.target.src;
        });
    });

    closeModal.addEventListener('click', () => {
        modal.style.display = 'none';
    });

    modal.addEventListener('click', (e) => {
        if (e.target === modal) {
            modal.style.display = 'none';
        }
    });
});

</script>

<div id="modal" class="modal">
    <span class="close">&times;</span>   <!-- &times; é o icon de X -->
    <img class="modal-content" id="modal-img">
</div>
    <section class="tittle-fav">
        <div>
            <h1>{{ republica.nome }}</h1>
            <p>{{ republica.cidade }}, {{ republica.bairro }}</p>
        </div>
        <div>
            <form action="/favoritos" method="POST">
                <input type="hidden" name="republica_id" value="{{ republica.id }}">
                <button type="submit"><div class="imagem" id="imagem1"></div></button>
            </form>
        </div>
    </section>
    <svg class="hr-maior" xmlns="http://www.w3.org/2000/svg" width="582" height="2" viewBox="0 0 582 2" fill="none">
        <path d="M0.015625 1H581.016" stroke="#6EB6FF" stroke-width="2" />
    </svg>
    <main class="container-desc">
        <div class="desc">
            <div class="tittle">
                <h1>Descrição</h1>
                <hr>
            </div>
            <div class="text">
                <p>{{ republica.descricao }}</p>
            </div>
            <hr class="hr-maior-2">
        </div>

        <div class="contact">
            <div class="box">
                <div class="icon-nome">
                    <img src="/foto perfil.png" alt="">
                    <h2>{{ republica.nome }}</h2>
                </div>
                <div class="container-infos">
                    <div>
                        <img src="/Vector 1.png" alt="" srcset="">
                        <p>Desde {{ republica.anoDeCriacao }}</p>
                    </div>
                    <div>
                        <img src="/Vector.png" alt="" srcset="">
                        <p>{{ republica.banheiro }} Banheiros</p>
                    </div>
                    <div>
                        <img src="/Vector (1).png" alt="" srcset="">
                        <p>{{ republica.quarto }} Quartos</p>
                    </div>
                    <div>
                        <img src="/image 4.png" alt="" srcset="">
                        <p>{{ republica.tipo }}</p>
                    </div>
                </div>
                <div class="button">
                    <a href="https://wa.me/55{{republica.numero}}"><button>Entrar em contato</button></a>
                </div>
            </div>
        </div>
    </main>
    <section class="comodidades">
        <div class="tittle">
            <h1>Comodidas oferecidas</h1>
            <hr class="hr-menor">
        </div>
        <div class="grid-container">
            {{#if comodidades.wifi}}
                <img src="/wi-fi.png" alt="Wi-Fi">
            {{/if}}
            {{#if comodidades.tv}}
                <img src="/TV.png" alt="TV">
            {{/if}}
            {{#if comodidades.cozinha}}
                <img src="/cozinhau.png" alt="Cozinha">
            {{/if}}
            {{#if comodidades.garagem}}
                <img src="/vagas.png" alt="Garagem">
            {{/if}}
            {{#if comodidades.arcondicionado}}
                <img src="/arcondicionado.png" alt="Ar-condicionado">
            {{/if}}
        </div>
    </section>
    <svg class="hr-maior" xmlns="http://www.w3.org/2000/svg" width="1164" height="3" viewBox="0 0 1164 3" fill="none">
        <path d="M0 1.25L1163.03 1.25" stroke="#6EB6FF" stroke-width="2" />
    </svg>
    <section class="regras">
        <div class="tittle">
            <h1>Regras do Local</h1>
            <hr class="hr-menor">
        </div>

        <div class="grid-container">
            {{#if regras.fumar}}
            <div>
                <p>pode fumar</p>
                <img src="/v.png">
            </div>
            {{else}}
            <div>
                <p>nao pode fumar</p>
                <img src="/x.png">
            </div>
               
            {{/if}}
            
            {{#if regras.pets}}
            <div>
                <p>pode pets</p>
                <img src="/v.png">
            </div>
            {{else}}
            <div>
                <p>nao pode pets</p>
                <img src="/x.png">
            </div>
            {{/if}}

            {{#if regras.bebidas}}
            <div>
                <p>pode bebidas</p>
                <img src="/v.png">
            </div>
            {{else}}
            <div>
                <p>nao pode bebidas</p>
                <img src="/x.png">
            </div>
            {{/if}}

            {{#if regras.visitas}}
            <div>
                <p>pode visitas</p>
                <img src="/v.png">
            </div>
            {{else}}
            <div>
                <p>nao pode visitas</p>
                <img src="/x.png">
            </div>
            {{/if}}        
        </div>
    </section>

<form class="coment-pub" action="/comentarios/adicionar" method="POST">
    <input type="hidden" name="id_republica" value="{{ republica.id }}">
    <input type="hidden" name="rating" id="rating" value="0">
    <textarea name="texto" style="resize: none;" maxlength="100" placeholder="Digite seu comentário"></textarea>
    <div class="inputs" style="padding-left: 120%; padding-top: 5%;
    padding-bottom: 5%;">
        <button class="enviar" type="submit">Enviar comentario</button>
    </div>
    
</form>


{{#if comentarios.length}}
    <ul>
        <div class="grid-container-2">
            {{#each comentarios}}
            <div class="coment">
                <div class="infos-coment">
                    <div class="titles-coment">
                        <h1 style="padding-left: 20px; width:800px; padding-top:30px;">{{this.nome}}</h1>
                        <p class="date" style="padding-top:30px;">{{this.dataFormatada}}</p>
                    </div>
                    <h3 style="padding-left: 20px;">{{this.texto}}</h3>
                </div>
            </div>
            {{/each}}
        </div>
    </ul>
{{else}}
    <h3 style="padding-left: 10%; padding-top: 40px;
    padding-bottom: 20px;"
    >Nenhum comentário encontrado.</h3>
{{/if}}

</section>

<script src="/estrelas.js"></script>

</body>

</html>
